process.ELECTRON_BIN = 'example/release/v0.24.0/darwin-x64/Electron.app';
module.exports = function(config) {
  config.set({
    basePath: '.',
    frameworks: ['dart-unittest'],
    
    preprocessors: {
      '**/*.coffee': ['coffee']
    },

    coffeePreprocessor: {
      // options passed to the coffee compiler
      options: {
        bare: true,
        sourceMap: false
      },
      // transforming the filenames
      transformPath: function(path) {
        return path.replace(/\.coffee$/, '.js');
      }
    },

    files: [
      {pattern: 'src/*.coffee', included: false},
      {pattern: 'test/*.coffee', included: false},
      {pattern: 'e2e-test/*.coffee', included: false},
    ],

    exclude: [
    ],

    autoWatch: true,
    captureTimeout: 20000,
    browserNoActivityTimeout: 300000,

    plugins: [
      'karma-electron-launcher'
    ],

    browsers: ['Electron']
  });
};
